# Read Torso STL and Plot Heat-map

## Getting Started

This directory contains necessary STL and MATLAB files to generate our desired heat-map on human torso. The heat-map is plotted on the torso surface, saved as an PLY file. You can use print 3D or meshlab to visualize it.

### Prerequisites

The MATLAB scripts require Computer Vision System Toolbox.
The colormap step in MATLAB script *torso_heatmap.m* requires *num_bin.csv*, which is generated by *collisionPlot_torso.ipynb* 


## Running the codes

### Running torso_heatmap.m

* The script imports *MRI-scanner-male-torso-001-1.STL*
* The first figure shows the rendered torso STL file
* Vertices positions are saved in *Torso_vertices.mat*, which will be used in *collisionPlot_torso.ipynb* to perform kNN.
* The second figure shows the scatter heat-map
* Heat-map is saved as an PLY file *TorsoHotmap.ply*

Some parameters to tune in this file:
```
% translate
V_rm(:,1) = V_rm(:,1)-1.03;
V_rm(:,2) = V_rm(:,2)+0.8;
V_rm(:,3) = V_rm(:,3)-1.5;
```
Tune these numbers to align the torso vertices coordinate in STL and V-REP scene.

## Authors

* **Mingwei Xu** - *UCSD ECE*
* **Dimitri Schreiber** - *UCSD ECE*

## Acknowledgments

* MATLAB function *plywrite.m* is contributed by Ahmet Cecen
Copyright (c) 2015, Ahmet Cecen and MINED@Gatech - All rights reserved.

